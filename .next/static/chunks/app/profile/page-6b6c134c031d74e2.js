(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{9026:function(e,i,l){Promise.resolve().then(l.bind(l,3484))},3484:function(e,i,l){"use strict";l.r(i),l.d(i,{default:function(){return ProfileForm}});var r=l(7437),t=l(2265),n=l(1823);function ProfileForm(e){let{user:i,profile:l}=e,[s,o]=(0,t.useState)({user_id:i.id,headline:"",bio:"",skills:[],experience:[],education:[],certifications:[],languages:[],cv_url:"",portfolio_url:"",linkedin_url:"",github_url:"",website_url:"",location:{},availability:!0,salary_range:{},remote_preference:"",work_authorization:""}),[a,d]=(0,t.useState)(!1),[u,c]=(0,t.useState)(""),[m,h]=(0,t.useState)("");(0,t.useEffect)(()=>{l&&o(l)},[l]);let handleInputChange=(e,i)=>{o(l=>({...l,[e]:i}))},addSkill=()=>{var e;!m.trim()||(null===(e=s.skills)||void 0===e?void 0:e.includes(m.trim()))||(handleInputChange("skills",[...s.skills||[],m.trim()]),h(""))},removeSkill=e=>{var i;handleInputChange("skills",(null===(i=s.skills)||void 0===i?void 0:i.filter(i=>i!==e))||[])},handleSubmit=async e=>{e.preventDefault(),d(!0),c("");try{let e=(0,n.e)(),{error:i}=await e.from("profiles").upsert(s).select();i?c("Error: ".concat(i.message)):(c("Profile updated successfully!"),setTimeout(()=>c(""),3e3))}catch(e){c("An error occurred while saving your profile")}finally{d(!1)}};return(0,r.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"headline",className:"block text-sm font-medium text-gray-700",children:"Professional Headline"}),(0,r.jsx)("input",{type:"text",id:"headline",value:s.headline||"",onChange:e=>handleInputChange("headline",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"e.g., Senior Software Engineer"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),(0,r.jsx)("textarea",{id:"bio",rows:4,value:s.bio||"",onChange:e=>handleInputChange("bio",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Tell us about yourself..."})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Skills"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:m,onChange:e=>h(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),addSkill()),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Add a skill"}),(0,r.jsx)("button",{type:"button",onClick:addSkill,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Add"})]}),s.skills&&s.skills.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:s.skills.map((e,i)=>(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>removeSkill(e),className:"ml-2 text-indigo-600 hover:text-indigo-800",children:"\xd7"})]},i))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact & Links"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"linkedin_url",className:"block text-sm font-medium text-gray-700",children:"LinkedIn URL"}),(0,r.jsx)("input",{type:"url",id:"linkedin_url",value:s.linkedin_url||"",onChange:e=>handleInputChange("linkedin_url",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"https://linkedin.com/in/yourprofile"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"github_url",className:"block text-sm font-medium text-gray-700",children:"GitHub URL"}),(0,r.jsx)("input",{type:"url",id:"github_url",value:s.github_url||"",onChange:e=>handleInputChange("github_url",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"https://github.com/yourusername"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"portfolio_url",className:"block text-sm font-medium text-gray-700",children:"Portfolio URL"}),(0,r.jsx)("input",{type:"url",id:"portfolio_url",value:s.portfolio_url||"",onChange:e=>handleInputChange("portfolio_url",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"https://yourportfolio.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"website_url",className:"block text-sm font-medium text-gray-700",children:"Personal Website"}),(0,r.jsx)("input",{type:"url",id:"website_url",value:s.website_url||"",onChange:e=>handleInputChange("website_url",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"https://yourwebsite.com"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Preferences"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"remote_preference",className:"block text-sm font-medium text-gray-700",children:"Remote Work Preference"}),(0,r.jsxs)("select",{id:"remote_preference",value:s.remote_preference||"",onChange:e=>handleInputChange("remote_preference",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[(0,r.jsx)("option",{value:"",children:"Select preference"}),(0,r.jsx)("option",{value:"remote",children:"Remote only"}),(0,r.jsx)("option",{value:"hybrid",children:"Hybrid"}),(0,r.jsx)("option",{value:"onsite",children:"On-site only"}),(0,r.jsx)("option",{value:"flexible",children:"Flexible"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"work_authorization",className:"block text-sm font-medium text-gray-700",children:"Work Authorization"}),(0,r.jsxs)("select",{id:"work_authorization",value:s.work_authorization||"",onChange:e=>handleInputChange("work_authorization",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[(0,r.jsx)("option",{value:"",children:"Select authorization"}),(0,r.jsx)("option",{value:"citizen",children:"US Citizen"}),(0,r.jsx)("option",{value:"permanent_resident",children:"Permanent Resident"}),(0,r.jsx)("option",{value:"visa_holder",children:"Visa Holder"}),(0,r.jsx)("option",{value:"requires_sponsorship",children:"Requires Sponsorship"})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"availability",type:"checkbox",checked:s.availability||!1,onChange:e=>handleInputChange("availability",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"availability",className:"ml-2 block text-sm text-gray-900",children:"Available for new opportunities"})]})]})]}),u&&(0,r.jsx)("div",{className:"p-4 rounded-md ".concat(u.includes("Error")?"bg-red-50 text-red-600 border border-red-200":"bg-green-50 text-green-600 border border-green-200"),children:u}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:opacity-50",children:a?"Saving...":"Save Profile"})})]})}},1823:function(e,i,l){"use strict";l.d(i,{e:function(){return createClient}});var r=l(8229),t=l(2601);function createClient(){return(0,r.AY)(t.env.NEXT_PUBLIC_SUPABASE_URL,t.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}}},function(e){e.O(0,[304,971,472,744],function(){return e(e.s=9026)}),_N_E=e.O()}]);