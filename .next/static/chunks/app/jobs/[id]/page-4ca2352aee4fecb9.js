(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[712],{2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return createLucideIcon}});var n=r(2265),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,t)=>{let r=(0,n.forwardRef)(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:l,...c},d)=>(0,n.createElement)("svg",{ref:d,...i,width:s,height:s,stroke:r,strokeWidth:a?24*Number(o)/Number(s):o,className:`lucide lucide-${toKebabCase(e)}`,...c},[...t.map(([e,t])=>(0,n.createElement)(e,t)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r}},1981:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(2898);let i=(0,n.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3008:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(2898);let i=(0,n.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6637:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(2898);let i=(0,n.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},2851:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(2898);let i=(0,n.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},2353:function(e,t,r){Promise.resolve().then(r.t.bind(r,8326,23)),Promise.resolve().then(r.bind(r,231))},231:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return JobApplicationForm}});var n=r(7437),i=r(2265),s=r(1823),o=r(4033),a=r(2851),l=r(3008),c=r(2898);let d=(0,c.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var u=r(6637),m=r(1981);let p=(0,c.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);function JobApplicationForm(e){let{jobId:t,jobTitle:r,companyName:c,userProfile:x}=e,[h,b]=(0,i.useState)(""),[f,g]=(0,i.useState)(null),[y,v]=(0,i.useState)(!1),[j,w]=(0,i.useState)(!1),[k,N]=(0,i.useState)(""),[C,_]=(0,i.useState)(""),S=(0,o.useRouter)(),generateCoverLetter=async()=>{if(!x){N("Please complete your profile first to generate a cover letter"),_("error");return}v(!0),N("");try{var e,t;let n="Dear Hiring Manager at ".concat(c,",\n\nI am writing to express my strong interest in the ").concat(r," position at ").concat(c,". With my background in ").concat((null===(e=x.skills)||void 0===e?void 0:e.slice(0,3).join(", "))||"software development",", I am excited about the opportunity to contribute to your team.\n\n").concat(x.bio?"About me: ".concat(x.bio):"I am a passionate professional with experience in software development and a strong commitment to delivering high-quality solutions.","\n\nMy key qualifications include:\n").concat((null===(t=x.skills)||void 0===t?void 0:t.slice(0,5).map(e=>"• ".concat(e)).join("\n"))||"• Strong technical skills\n• Problem-solving abilities\n• Team collaboration","\n\nI am particularly drawn to this role because it aligns with my career goals and offers the opportunity to work on challenging projects. I am confident that my skills and experience make me a strong candidate for this position.\n\nThank you for considering my application. I look forward to discussing how I can contribute to ").concat(c,"'s success.\n\nBest regards,\n[Your Name]");b(n),N("Cover letter generated successfully! Feel free to customize it."),_("success")}catch(e){N("Failed to generate cover letter. Please try again."),_("error")}finally{v(!1)}},handleSubmit=async e=>{e.preventDefault(),w(!0),N("");try{let e=(0,s.e)(),n=(null==x?void 0:x.cv_url)||"";if(f){let t="resumes/".concat(Date.now(),"_").concat(f.name),{data:r,error:i}=await e.storage.from("documents").upload(t,f);if(i)throw Error("Failed to upload resume");let{data:s}=e.storage.from("documents").getPublicUrl(t);n=s.publicUrl}let{error:i}=await e.from("applications").insert({user_id:(null==x?void 0:x.user_id)||"",job_id:t,job_title:r,company_name:c,cover_letter:h,resume_url:n,status:"submitted",applied_at:new Date().toISOString()});if(i)throw i;N("Application submitted successfully!"),_("success"),setTimeout(()=>{S.push("/applications")},2e3)}catch(e){N("Failed to submit application. Please try again."),_("error")}finally{w(!1)}};return(0,n.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cover Letter"}),(0,n.jsxs)("button",{type:"button",onClick:generateCoverLetter,disabled:y||!x,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-600 bg-indigo-50 hover:bg-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,n.jsx)(a.Z,{className:"h-3 w-3 mr-1"}),y?"Generating...":"AI Generate"]})]}),(0,n.jsx)("textarea",{value:h,onChange:e=>b(e.target.value),rows:8,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Write or generate a personalized cover letter for this position...",required:!0}),!x&&(0,n.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Complete your profile to enable AI cover letter generation"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Resume/CV"}),(null==x?void 0:x.cv_url)?(0,n.jsxs)("div",{className:"flex items-center p-3 bg-green-50 border border-green-200 rounded-md",children:[(0,n.jsx)(l.Z,{className:"h-5 w-5 text-green-500 mr-3"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-green-800",children:"Profile Resume"}),(0,n.jsx)("p",{className:"text-xs text-green-600",children:"Using resume from your profile"})]})]}):(0,n.jsx)("div",{className:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:(0,n.jsxs)("div",{className:"space-y-1 text-center",children:[(0,n.jsx)(d,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,n.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,n.jsxs)("label",{htmlFor:"resume-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[(0,n.jsx)("span",{children:"Upload a file"}),(0,n.jsx)("input",{id:"resume-upload",name:"resume-upload",type:"file",className:"sr-only",accept:".pdf,.doc,.docx",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){if(r.size>5242880){N("File size must be less than 5MB"),_("error");return}g(r),N("")}}})]}),(0,n.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"PDF, DOC, or DOCX up to 5MB"})]})}),f&&(0,n.jsxs)("div",{className:"mt-3 flex items-center p-3 bg-blue-50 border border-blue-200 rounded-md",children:[(0,n.jsx)(u.Z,{className:"h-5 w-5 text-blue-500 mr-3"}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-blue-800",children:f.name}),(0,n.jsxs)("p",{className:"text-xs text-blue-600",children:[(f.size/1024/1024).toFixed(2)," MB"]})]}),(0,n.jsx)("button",{type:"button",onClick:()=>g(null),className:"text-blue-600 hover:text-blue-800",children:"Remove"})]})]}),k&&(0,n.jsx)("div",{className:"p-4 rounded-md ".concat("success"===C?"bg-green-50 text-green-600 border border-green-200":"bg-red-50 text-red-600 border border-red-200"),children:(0,n.jsxs)("div",{className:"flex items-center",children:["success"===C?(0,n.jsx)(l.Z,{className:"h-5 w-5 mr-2"}):(0,n.jsx)(m.Z,{className:"h-5 w-5 mr-2"}),k]})}),(0,n.jsx)("button",{type:"submit",disabled:j||!h.trim(),className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:j?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p,{className:"h-4 w-4 mr-2"}),"Submit Application"]})}),(0,n.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Application Tips"}),(0,n.jsxs)("ul",{className:"text-xs text-blue-800 space-y-1",children:[(0,n.jsx)("li",{children:"• Customize your cover letter for this specific role"}),(0,n.jsx)("li",{children:"• Highlight relevant skills and experience"}),(0,n.jsx)("li",{children:"• Keep your resume up to date"}),(0,n.jsx)("li",{children:"• Follow up within a week if you don't hear back"})]})]})]})}},1823:function(e,t,r){"use strict";r.d(t,{e:function(){return createClient}});var n=r(8229),i=r(2601);function createClient(){return(0,n.AY)(i.env.NEXT_PUBLIC_SUPABASE_URL,i.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[304,326,971,472,744],function(){return e(e.s=2353)}),_N_E=e.O()}]);